(()=>{"use strict";const e=document.getElementById("modal"),t=document.querySelectorAll(".openModal"),n=document.getElementById("closeModal")||e.querySelector(".modal__close"),l=document.getElementById("modalOverlay");t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.add("modal--active")}))})),n.addEventListener("click",(()=>{e.classList.remove("modal--active")})),l.addEventListener("click",(()=>{e.classList.remove("modal--active")}));const d=document.getElementById("consent"),i=document.getElementById("submitBtn");i.disabled=!0,d.addEventListener("change",(function(){i.disabled=!this.checked})),document.getElementById("contactForm").addEventListener("submit",(function(t){t.preventDefault();const n=document.getElementById("name"),l=document.getElementById("phone"),c=document.getElementById("nameError"),o=document.getElementById("phoneError"),s=document.getElementById("consentError");let a=!0;n.value.trim().length<2?(c.textContent="Введите имя (минимум 2 символа)",c.style.display="block",n.classList.add("modal__input--invalid"),a=!1):(c.textContent="",c.style.display="none",n.classList.remove("modal__input--invalid")),/^\+?[0-9\s\-]{7,15}$/.test(l.value.trim())?(o.textContent="",o.style.display="none",l.classList.remove("modal__input--invalid")):(o.textContent="Введите корректный номер",o.style.display="block",l.classList.add("modal__input--invalid"),a=!1),d.checked?(s.textContent="",s.style.display="none"):(s.textContent="Необходимо согласие на обработку данных",s.style.display="block",a=!1),a&&(alert("Заявка отправлена!"),this.reset(),i.disabled=!0,e.classList.remove("modal--active"))})),window.onload=function(){new Swiper(".swiper-container",{slidesPerView:"auto",spaceBetween:10,centeredSlides:!0,loop:!1,grabCursor:!0,slideToClickedSlide:!0,pagination:{el:".swiper-pagination",clickable:!0},initialSlide:0})};const c=document.getElementById("video"),o=document.getElementById("videoOverlay");o.addEventListener("click",(()=>{o.style.display="none",c.play()})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#phone").addEventListener("input",(function(e){let t=e.target.value.replace(/\D/g,"");t.length>0&&"+"!==t[0]&&(t=`+${t}`),t=t.length<=2?`+${t}`:t.length<=5?`+${t.slice(1,2)} (${t.slice(2)}`:t.length<=8?`+${t.slice(1,2)} (${t.slice(2,5)}) ${t.slice(5)}`:t.length<=12?`+${t.slice(1,2)} (${t.slice(2,5)}) ${t.slice(5,8)}-${t.slice(8)}`:`+${t.slice(1,2)} (${t.slice(2,5)}) ${t.slice(5,8)}-${t.slice(8,12)}-${t.slice(12,15)}`,t.length>16&&(t=t.slice(0,17)),e.target.value=t}));const e=document.querySelector("#contactForm"),t=document.querySelector("#submitBtn");e.addEventListener("input",(function(){const n=e.checkValidity();t.disabled=!n}))}))})();